## Сортировка, объединение, разбиение и прочая обработка файлов.

1. ### Команда SORT

- __sort__ — это утилита для сортировки текстовых строк в определенном порядке.

Она может использоваться для сортировки текста из одного или нескольких файлов, а также для сортировки вывода других команд в Linux.

- Синтаксис команды sort:

Общий синтаксис:

__$ sort опции файл__

- Основные опции утилиты sort:

-b: Не учитывать пробелы при сортировке.

-d: Сортировать только по буквам и цифрам.

-i: Сортировать только по ASCII символам.

-n: Сортировка строк по числовому значению.

-r: Сортировать в обратном порядке.

-c: Проверить, был ли файл отсортирован.

-o: Вывести результат в файл.

-u: Игнорировать повторяющиеся строки.

-m: Объединение ранее отсортированных файлов.

-k: Указать поле, по которому нужно сортировать строки (если не задано, сортировка выполняется по всей строке).

-f: Использовать в качестве разделителя полей ваш символ вместо пробела.

- Примеры использования:

Создадим файл test.txt с несколькими строками:

__$nano test.txt__

computer

mouse

LAPTOP

data

RedHat

laptop

debian

Сортировка:

__$sort test.txt__

Результат:

computer

data

debian

laptop

laptop

LAPTOP

mouse

RedHat

Обратная сортировка:

__$sort -r test.txt__

Результат:

RedHat

mouse

LAPTOP

laptop

laptop

debian

data

computer

Сортировка по колонке (например, по имени файла):

ls | sort -k9

2. ### Команда UNIQ

Основная информация о команде uniq:

- uniq используется для удаления дубликатов строк из текстовых файлов.

- Эта команда часто используется в сочетании с другими инструментами командной строки для управления данными и автоматизации задач.

- Синтаксис команды uniq:
Общий синтаксис:

__$ uniq [опции] [входной_файл] [выходной_файл]__

Здесь:

опции — различные переключатели командной строки, которые изменяют поведение команды.

входной_файл — имя файла, который нужно обработать.

выходной_файл — имя файла, в который будут записаны обработанные данные.

- Основные опции команды uniq:

-c: Добавляет подсчет количества повторений каждой строки во входном файле. Например, uniq -c выведет одну строку со значением “2”, если входной файл содержит две одинаковые строки.

-d: Отображает только строки, которые повторяются во входном файле. То есть удаляет все уникальные строки и отображает только дубликаты.

-i: Игнорирует регистр букв при сравнении строк. Например, строки “Apple” и “apple” будут считаться одинаковыми при использовании опции -i.

-u: Отображает только строки, которые встречаются во входном файле один раз. То есть удаляет все повторяющиеся строки и отображает только уникальные.

- Примеры использования:

_Удаление дубликатов_:

__uniq data.txt > output.txt__

Эта команда прочитает данные из файла data.txt, удалит все повторяющиеся строки и запишет уникальные строки в новый файл output.txt.

_Подсчет дубликатов_:

__uniq -c data.txt > output.txt__

Эта команда подсчитает количество раз появления каждой строки в файле data.txt и запишет результаты в новый файл output.txt.

_Игнорирование регистра_:

__uniq -i data.txt > output.txt__

Эта команда удалит все повторяющиеся строки независимо от регистра и запишет уникальные строки в файл output.txt.

3. ### Команда JOIN 

Позволяет объединять данные из двух текстовых файлов на основе общего поля. 

- join принимает на вход два текстовых файла и объединяет строки, имеющие совпадающее значение в указанном поле.
Это полезно, когда у вас есть два набора данных с общим ключом, и вы хотите объединить их для анализа или консолидации.

- Синтаксис команды join:

Общий синтаксис:

__$ join [опции] файл1 файл2__

Здесь:

опции — различные переключатели командной строки, которые изменяют поведение команды.

файл1 и файл2 — имена файлов, которые нужно объединить.

- Основные опции команды join:

_-t_ разделитель: Указывает разделитель полей (по умолчанию — пробел).

_-1 N и -2 M_: Указывают номер поля в файле 1 и файле 2 соответственно, по которому будет производиться объединение.

_-a N и -a M_: Выводить все строки из файла 1 или файла 2, даже если нет совпадений.

_-e_ строка: Заменить пустые поля в выводе заданной строкой.

_-i_: Игнорировать регистр букв при сравнении строк.

- Примеры использования:

Объединение файлов по общему полю:

__join -t, -1 2 -2 1 file-1.txt file-2.txt__

Это объединит строки из файлов file-1.txt и file-2.txt по общему полю с разделителем запятая.

Вывод всех строк из обоих файлов:

__join -a1 -a2 file-1.txt file-2.txt__

Это выведет все строки из обоих файлов, даже если нет совпадений.

4. ### Команда CUT 

Предоставляет возможность вырезать части текста из файлов или стандартного ввода. 

- Синтаксис команды cut:

Общий синтаксис:

__$ cut опции путь_к_файлу__

Здесь:

опции — различные переключатели командной строки, которые изменяют поведение команды.

путь_к_файлу — имя файла, который нужно обработать. Если на месте файла поставить прочерк -, команда возьмет текст из стандартного ввода.

- Основные опции команды cut:

_-b_ (--bytes=LIST): Вырезает указанные байты из строки. Можно задать набор или диапазон байтов.

_-c_ (--characters=LIST): Вырезает указанные символы. Также можно указывать набор или диапазон символов.

_-d_ (--delimiter=DELIM): Устанавливает пользовательский разделитель вместо стандартного TAB.

_-f_ (--fields=LIST): Вырезает указанные поля. Поле — это часть строки, разделенная определенным разделителем.

_-s_ (--only-delimited): Не выводит строки, где нет разделителя.

_--complement_: Оставляет только указанные байты, символы или поля, остальное вырезается.

_--output-delimiter=STRING_: Позволяет задать другой выходной разделитель.

- Примеры использования:

Работа с байтами:

echo "Hello World" | cut -b 1,2,3,5,8,9

Вывод: Heloor.

Работа со столбцами: 

Создадим файл cut_command_example.txt с текстом:

Winter: white: snow: frost

Spring: green: grass: warm

Summer: colorful: blossom: hot

Autumn: yellow: leaves: cool


Вырежем первый столбец:

__cut -d ':' -f 1 cut_command_example.txt__

Вывод:

Winter

Spring

Summer

Autumn

5. ### Команда PASTE 

Это утилита, которая объединяет строки из двух или более файлов и выводит их бок о бок. Давайте рассмотрим основные опции и примеры использования команды paste:

__paste__ используется для создания нового текстового файла, объединяя строки из нескольких входных файлов.

По умолчанию paste использует символ табуляции в качестве разделителя между строками.

- Примеры использования:

Объединение строк из двух файлов:

$ echo "Hello" > file1.txt

$ echo "World" > file2.txt

$ paste file1.txt file2.txt

Hello   World

- Изменение разделителя:

$ paste -d ":" file1.txt file2.txt

Hello:World

- Вывод строк последовательно:

$ paste -s file1.txt file2.txt

Hello   World

- Опции команды paste:

_--help_: Вывести справку по команде.

_--version_: Вывести информацию о версии.

_-d DELIM_: Задать пользовательский разделитель вместо табуляции.

_-s_: Вывести строки последовательно, а не бок о бок.

6. ### Команда SPLIT

Позволяет разделить файлы на более мелкие части. 

- Разделение файла на части по количеству строк:

По умолчанию команда split создает новые файлы, содержащие по 1000 строк каждый. Если префикс не указан, используется префикс “x”. Новые файлы нумеруются, например, “xaa”, “xab” и так далее.

Пример:

__split someLogFile.log__

Это создаст несколько файлов, каждый из которых содержит 1000 строк (за исключением последнего файла).

- Изменение количества строк в каждом файле:

Вы можете указать, сколько строк вы хотите в каждом новом файле с помощью опции -l.

Пример:

__split someLogFile.log -l 500__

Теперь файлы будут содержать по 500 строк, кроме последнего.

- Использование подробной опции:

Если вы хотите увидеть подробную информацию о процессе разделения, используйте опцию --verbose.

Пример:

__split someLogFile.log --verbose__

Вы увидите, как создаются новые файлы.

- Восстановление исходного файла:

Для объединения файлов обратно в один, используйте команду cat:

__cat xaa xab xac > restoredLogFile.log__

Это создаст файл restoredLogFile.log, содержащий все строки из исходного файла.
